<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
  <link rel="stylesheet" href="./main.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>

<div class="card-group container">
  <div class="card">
    <img src="https://via.placeholder.com/600">
    <div class="card-body">
      <h5 class="title">Card title</h5>
      <p class="price">가격 : 70000</p>
      <button class="btn btn-danger">주문하기</button>
    </div>
  </div>
  <div class="card">
    <img src="https://via.placeholder.com/600">
    <div class="card-body">
      <h5 class="title">Card title</h5>
      <p class="price">가격 : 70000</p>
      <button class="btn btn-danger">주문하기</button>
    </div>
  </div>
  <div class="card">
    <img src="https://via.placeholder.com/600">
    <div class="card-body">
      <h5 class="title">Card title</h5>
      <p class="price">가격 : 70000</p>
      <button class="btn btn-danger">주문하기</button>
    </div>
  </div>
</div>

<div class="container my-5">
  <button class="btn btn-danger" id="sortPrice">가격순정렬</button>
  <button class="btn btn-danger" id="sortName">이름순정렬</button>
  <button class="btn btn-danger" id="less">5만원이하</button>
</div>

<script>
  var products = [
    { id: 0, price: 70000, title: 'Blossom Dress' },
    { id: 1, price: 50000, title: 'Springfield Shirt' },
    { id: 2, price: 60000, title: 'Black Monastery' }
  ];
  $('#sortPrice').click(function () {
    products.sort(function (a, b) {
      return a.price - b.price;
    });
    dataBinding(products);
  });

  $('#sortName').click(function () {
    products.sort(function (a, b) {
      if (a.title < b.title) return -1;
      return 1;
    });
    dataBinding(products);
  });

  $('#less').click(function () {
    let newProducts = products.filter(function (value) {
      return value.price <= 50000;
    });
    $('.card-group').html('');
    newProducts.forEach(function (value) {
      let template = `
        <div class="card">
          <img src="https://via.placeholder.com/600">
          <div class="card-body">
            <h5 class="title">${value.title}</h5>
            <p class="price">가격 : ${value.price}</p>
            <button class="btn btn-danger">주문하기</button>
          </div>
        </div>
      `;
      $('.card-group').append(template);
    });
  });
  dataBinding(products);

  function dataBinding(products) {
    $('.title').html('');
    $('.price').html('');
    for (let i = 0; i < products.length; i++) {
      $('.title').eq(i).html(products[i].title);
      $('.price').eq(i).html('가격 : ' + products[i].price);
    }
  }
</script>
</body>
</html>